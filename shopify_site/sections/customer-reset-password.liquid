{% comment %} 
    Reset Password section used by customers/reset_password template
{% endcomment %}

<section class="customer-reset-section color-{{ section.settings.color_scheme }}">
  <div class="customer-reset-container">
    <div class="customer-reset-card">
      <div class="customer-reset-brand">Nora Lyf</div>
      <h1 class="customer-reset-title">{{ 'customer.reset_password.title' | t }}</h1>
      <p class="customer-reset-subtitle">{{ 'customer.reset_password.subtext' | t }}</p>

      {%- form 'reset_customer_password'
        , class: 'reset-form' -%}
        {%- if form.errors -%}
          <div class="customer-reset-alert" role="alert">{{ form.errors | default_errors }}</div>
        {%- endif -%}

        <div class="form-field">
          <label for="ResetPassword" class="form-label">{{ 'customer.reset_password.password' | t }}</label>
          <input
            type="password"
            name="password"
            id="ResetPassword"
            class="input"
            autocomplete="new-password"
            aria-required="true"
            required>
        </div>

        <div class="form-field">
          <label for="PasswordConfirmation" class="form-label">{{ 'customer.reset_password.password_confirm' | t }}</label>
          <input
            type="password"
            name="password_confirmation"
            id="PasswordConfirmation"
            class="input"
            autocomplete="new-password"
            aria-required="true"
            required>
        </div>

        <div class="reset-actions">
          <button type="submit" class="button button-primary">{{ 'customer.reset_password.submit' | t }}</button>
          <a href="{{ routes.account_login_url }}" class="button button-ghost">{{ 'customer.reset_password.cancel' | t }}</a>
        </div>
      {%- endform -%}
    </div>
  </div>

  {% stylesheet %}
    .customer-reset-container {
      max-width: 520px;
      margin: 0 auto;
      padding: 32px 16px;
    }
    .customer-reset-card {
      background: rgb(var(--color-background));
      border: 1px solid rgba(var(--color-foreground), 0.12);
      border-radius: var(--radius);
      padding: 32px;
      box-shadow: var(--shadow-small, none);
    }
    .customer-reset-brand {
      text-align: center;
      font-weight: 700;
      margin: 0 0 6px;
    }
    .customer-reset-title {
      margin: 0 0 8px;
      text-align: center;
    }
    .customer-reset-subtitle {
      margin: 0 0 20px;
      color: rgba(var(--color-foreground), 0.7);
      text-align: center;
    }
    .form-field {
      display: grid;
      gap: 8px;
      margin-bottom: 16px;
    }
    .form-label {
      font-weight: 600;
    }
    .input {
      width: 100%;
      height: 44px;
      padding: 0 12px;
      border-radius: var(--inputs-radius, 8px);
      border: 1px solid rgba(var(--color-foreground), var(--inputs-border-opacity, 0.2));
      background: transparent;
      color: rgb(var(--color-foreground));
    }
    .input:focus {
      outline: none;
      border-color: rgb(var(--color-foreground));
      box-shadow: 0 0 0 calc(0.1rem + var(--inputs-border-width)) rgba(var(--color-foreground));
    }
    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      height: 44px;
      padding: 0 16px;
      border-radius: var(--buttons-radius);
      font-weight: 700;
      text-decoration: none;
      cursor: pointer;
      transition: background-color 0.2s
      , color 0.2s
      , box-shadow 0.2s
      , transform 0.05s;
      border: 1px solid transparent;
    }
    .button-primary {
      background: rgba(var(--color-button), var(--alpha-button-background, 1));
      color: rgb(var(--color-button-text));
      border: var(--buttons-border-width) solid rgba(var(--color-button-text), var(--buttons-border-opacity, 0));
    }
    .button-ghost {
      background: transparent;
      color: rgb(var(--color-foreground));
    }
    .reset-actions {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 8px;
    }
    @media (max-width: 480px) {
      .customer-reset-card {
        padding: 24px;
      }
      .customer-reset-title {
        font-size: 24px;
      }
    }
  {% endstylesheet %}

  {% schema %}
    {
      "name": "Reset password",
      "tag": "section",
      "class": "section",
      "settings": [
        {
          "type": "color_scheme",
          "id": "color_scheme",
          "label": "Color scheme"
        }
      ]
    }
  {% endschema %}
</section>
