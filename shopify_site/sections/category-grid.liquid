{% comment %} 
  Category grid section for GetSupp-style homepage
{% endcomment %}

<div class="category-grid">
  <div class="container">
    {% if section.settings.heading != blank %}
      <h2 class="category-grid__heading">{{ section.settings.heading }}</h2>
    {% endif %}

    <div class="category-grid__grid">
      {% for block in section.blocks %}
        <div class="category-grid__item" {{ block.shopify_attributes }}>
          {% if block.settings.category_image %}
            <div class="category-grid__image">
              {% render 'image'
                , image: block.settings.category_image
                , alt: block.settings.category_name %}
            </div>
          {% endif %}

          <div class="category-grid__content">
            {% if block.settings.category_name != blank %}
              <h3 class="category-grid__name">{{ block.settings.category_name }}</h3>
            {% endif %}

            {% if block.settings.category_description != blank %}
              <p class="category-grid__description">{{ block.settings.category_description }}</p>
            {% endif %}

            {% if block.settings.category_url != blank %}
              <a href="{{ block.settings.category_url }}" class="category-grid__link">
                Shop {{ block.settings.category_name }}
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M6 12L10 8L6 4"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% stylesheet %}
  .category-grid {
    padding: 4rem 0;
    background-color: #f8f9fa;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .category-grid__heading {
    text-align: center;
    font-size: 2.5rem;
    font-weight: bold;
    color: #333;
    margin-bottom: 3rem;
  }

  .category-grid__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.25rem;
  }

  .category-grid__item {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease
    , box-shadow 0.3s ease;
  }

  .category-grid__item:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  .category-grid__image {
    height: 140px;
    overflow: hidden;
  }

  .category-grid__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .category-grid__content {
    padding: 1rem;
  }

  .category-grid__name {
    font-size: 1.1rem;
    font-weight: bold;
    color: #24BAAD;
    margin-bottom: 0.4rem;
  }

  .category-grid__description {
    color: #666;
    margin-bottom: 0.75rem;
    line-height: 1.5;
  }

  .category-grid__link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #24BAAD;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s ease;
  }

  .category-grid__link:hover {
    color: #1a9b8f;
  }

  .category-grid__link svg {
    transition: transform 0.3s ease;
  }

  .category-grid__link:hover svg {
    transform: translateX(4px);
  }

  @media (max-width: 768px) {
    .category-grid {
      padding: 2rem 0;
    }

    .category-grid__heading {
      font-size: 2rem;
      margin-bottom: 2rem;
    }

    .category-grid__grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }
  }
{% endstylesheet %}

{% schema %}
  {
    "name": "Category Grid",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Shop by Category"
      }
    ],
    "blocks": [
      {
        "type": "category",
        "name": "Category",
        "settings": [
          {
            "type": "image_picker",
            "id": "category_image",
            "label": "Category Image"
          }, {
            "type": "text",
            "id": "category_name",
            "label": "Category Name",
            "default": "Health & Wellness"
          }, {
            "type": "text",
            "id": "category_description",
            "label": "Category Description",
            "default": "Supplements for overall health and wellness"
          }, {
            "type": "url",
            "id": "category_url",
            "label": "Category URL"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Category Grid",
        "category": "Homepage",
        "blocks": [
          {
            "type": "category",
            "settings": {
              "category_name": "Health & Wellness",
              "category_description": "Supplements for overall health and wellness"
            }
          }, {
            "type": "category",
            "settings": {
              "category_name": "Herbal & Ayurveda",
              "category_description": "Traditional herbal and ayurvedic supplements"
            }
          }, {
            "type": "category",
            "settings": {
              "category_name": "Vitamins & Supplements",
              "category_description": "Essential vitamins and nutritional supplements"
            }
          }, {
            "type": "category",
            "settings": {
              "category_name": "Sports Nutrition",
              "category_description": "Protein and fitness supplements"
            }
          }
        ]
      }
    ]
  }
{% endschema %}