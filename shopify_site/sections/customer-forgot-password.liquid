{% comment %} 
            Standalone Forgot Password section for /pages/forgot-password
{% endcomment %}

<section class="customer-forgot-section color-{{ section.settings.color_scheme }}">
  <style>
    /* If this section is present, hide other sections by default */
    .shopify-section {
      display: none !important;
    }
    /* Always show this section */
    #shopify-section-{{ section.id }} {
      display: block !important;
    }
    /* Keep footer visible */
    [id^="shopify-section-footer"],
    [id^="shopify-section-footer-group"],
    .shopify-section[data-section-type="footer"],
    .shopify-section[data-section-type="footer-group"] {
      display: block !important;
    }
  </style>
  <div class="customer-forgot-container">
    <div class="customer-forgot-card">
      <h1 class="customer-forgot-title">{{ 'customer.recover_password.title' | t }}</h1>
      <p class="customer-forgot-subtitle">{{ 'customer.recover_password.subtext' | t }}</p>

      {%- form 'recover_customer_password'
        , class: 'recover-form' -%}
        {%- if form.errors -%}
          <div class="customer-forgot-alert" role="alert">{{ form.errors | default_errors }}</div>
        {%- endif -%}

        {%- if form.posted_successfully? -%}
          <div class="customer-forgot-alert" role="status">{{ 'customer.recover_password.success' | t }}</div>
        {%- else -%}
          <div class="form-field">
            <label for="RecoverEmail" class="form-label">{{ 'customer.recover_password.email' | t }}</label>
            <input
              type="email"
              id="RecoverEmail"
              name="email"
              class="input"
              autocomplete="email"
              required
              aria-required="true">
          </div>
          <div class="recover-actions">
            <button type="submit" class="button button-primary">{{ 'customer.recover_password.submit' | t }}</button>
            <a href="{{ routes.account_login_url }}" class="button button-ghost">{{ 'customer.recover_password.cancel' | t }}</a>
          </div>
        {%- endif -%}
      {%- endform -%}

    </div>
  </div>
  {% stylesheet %}
    .customer-forgot-section {
      padding: 48px 0;
    }
    .customer-forgot-container {
      max-width: 560px;
      margin: 0 auto;
      padding: 0 20px;
    }
    .customer-forgot-card {
      background: rgb(var(--color-background));
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
      padding: 32px;
    }
    .customer-forgot-title {
      margin: 0 0 8px;
      font-size: 28px;
      font-weight: 700;
      text-align: center;
    }
    .customer-forgot-subtitle {
      margin: 0 0 16px;
      text-align: center;
      color: #6b7280;
    }
    .customer-forgot-alert {
      background: rgba(var(--color-foreground), 0.06);
      color: rgb(var(--color-foreground));
      border: 1px solid rgba(var(--color-foreground), 0.15);
      border-radius: 8px;
      padding: 12px 14px;
      margin-bottom: 16px;
    }
    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }
    .input {
      width: 100%;
      height: 44px;
      padding: 10px 12px;
      border: var(--inputs-border-width) solid rgba(var(--color-foreground), var(--inputs-border-opacity));
      border-radius: var(--inputs-radius);
      background: rgb(var(--color-background));
      transition: border-color 0.2s
      , box-shadow 0.2s;
    }
    .input:focus {
      outline: none;
      border-color: rgb(var(--color-foreground));
      box-shadow: 0 0 0 calc(0.1rem + var(--inputs-border-width)) rgba(var(--color-foreground));
    }
    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      height: 44px;
      padding: 0 16px;
      border-radius: var(--buttons-radius);
      font-weight: 700;
      text-decoration: none;
      cursor: pointer;
      transition: background-color 0.2s
      , color 0.2s
      , box-shadow 0.2s
      , transform 0.05s;
      border: 1px solid transparent;
    }
    .button-primary {
      background: rgba(var(--color-button), var(--alpha-button-background, 1));
      color: rgb(var(--color-button-text));
      border: var(--buttons-border-width) solid rgba(var(--color-button-text), var(--buttons-border-opacity, 0));
    }
    .button-ghost {
      background: transparent;
      color: rgb(var(--color-foreground));
    }
    .recover-actions {
      display: flex;
      gap: 10px;
      justify-content: center;
    }

    @media (max-width: 480px) {
      .customer-forgot-card {
        padding: 24px;
      }
      .customer-forgot-title {
        font-size: 24px;
      }
    }
  {% endstylesheet %}

  {% schema %}
    {
      "name": "Forgot password",
      "tag": "section",
      "class": "section",
      "settings": [
        {
          "type": "color_scheme",
          "id": "color_scheme",
          "label": "Color scheme",
          "default": "scheme-1"
        }
      ]
    }
  {% endschema %}
</section>
